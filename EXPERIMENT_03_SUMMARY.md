# Experiment 3: Carry Signal Validation - FAILED

**æ—¥æœŸ**: 2024-12-30
**çŠ¶æ€**: âŒ **å®éªŒå¤±è´¥ - Carryä¿¡å·ä¸å¯ç”¨**

---

## ğŸ“‹ å®éªŒè®¾è®¡

### å‡è®¾ (H0)
ETF carryä¿¡å·(yield/roll/dividend)ä¸æœªæ¥æ”¶ç›Šæ— æ˜¾è‘—ç›¸å…³æ€§

### å‚æ•°
- Carryå®šä¹‰:
  - å€ºåˆ¸(TLT): æ»šåŠ¨21å¤©æ”¶ç›Šç‡ä»£ç†
  - å•†å“(DBC/GLD): è´ŸåŠ¨é‡ä»£ç†roll yield
  - è‚¡ç¥¨(SPY/VNQ): 252å¤©å¹´åŒ–æ”¶ç›Šç‡ä»£ç†
- é¢„æµ‹horizon: 21å¤©(1æœˆ), 63å¤©(3æœˆ)
- æœ€å°è§‚æµ‹æ•°: 100

### å¤±è´¥æ ‡å‡† (å®éªŒå‰å®šä¹‰)
```python
FAILURE_CRITERIA = {
    'min_mean_ic': 0.10,          # Mean ICå¿…é¡»>0.10
    'min_individual_ic': 0.05,    # å•ä¸ªèµ„äº§ICå¿…é¡»>0.05
    'max_low_corr_pct': 0.60,     # ä½ç›¸å…³èµ„äº§<60%
    'min_strategy_sharpe': 0.3,   # ç­–ç•¥Sharpe>0.3
}
```

---

## ğŸ“Š å®éªŒç»“æœ

### 1. Information Coefficient (IC)

| Asset | IC      | IC Std | IC IR    | Hit Rate | ç»“è®º |
|-------|---------|--------|----------|----------|------|
| SPY   | -0.088  | 0.362  | -0.242   | 62.4%    | âŒ è´ŸIC |
| TLT   |  0.021  | 0.295  |  0.070   | 50.3%    | âŒ ICæå¼± |
| GLD   |  0.044  | 0.328  |  0.132   | 49.9%    | âŒ IC<0.05 |
| DBC   | -0.075  | 0.334  | -0.225   | 48.1%    | âŒ è´ŸIC |
| VNQ   | -0.055  | 0.381  | -0.144   | 52.0%    | âŒ è´ŸIC |

**Mean IC: -0.031** (é˜ˆå€¼: >0.10) â†’ **FAIL**

### 2. ä¸1æœˆæœªæ¥æ”¶ç›Šçš„ç›¸å…³æ€§

| Asset | Correlation | P-value  | Significant | N_obs |
|-------|-------------|----------|-------------|-------|
| SPY   | -0.017      | 0.229    | âŒ No       | 4732  |
| TLT   |  0.028      | 0.049    | âœ“ Yes*      | 4963  |
| GLD   |  0.106      | <0.001   | âœ“ Yes*      | 4963  |
| DBC   | -0.123      | <0.001   | âœ“ Yes**     | 4963  |
| VNQ   | -0.038      | 0.009    | âœ“ Yes**     | 4732  |

*æ˜¾è‘—ä½†ç›¸å…³æ€§æå¼± (<0.15)
**æ˜¾è‘—ä½†ä¸ºè´Ÿç›¸å…³ï¼ˆåå‘ä¿¡å·ï¼‰

**100% èµ„äº§ç›¸å…³æ€§ < 0.15** â†’ **FAIL**

### 3. Carryç­–ç•¥å›æµ‹ (Long Top 2 Carry Assets)

```
Total Return:        37.6% (over 20 years!)
Annual Return:        1.6%
Annual Volatility:   11.6%
Sharpe Ratio:         0.14  â† FAIL (é˜ˆå€¼: >0.3)
Max Drawdown:       -51.3%  â† æå·®
Number of Trades:    239
```

---

## âŒ å¤±è´¥æ ‡å‡†æ£€æŸ¥

| æ ‡å‡† | é˜ˆå€¼ | å®é™… | çŠ¶æ€ |
|------|------|------|------|
| Mean IC | >0.10 | -0.031 | âŒ FAIL |
| Individual IC | >0.05 | 5/5 assets fail | âŒ FAIL |
| Low Corr % | <60% | 100% | âŒ FAIL |
| Strategy Sharpe | >0.3 | 0.14 | âŒ FAIL |

**ç»“è®º**: å®éªŒå¤±è´¥ï¼Œ**æ‰€æœ‰4é¡¹æ ‡å‡†å…¨éƒ¨æœªè¾¾æ ‡**

---

## ğŸ” å¤±è´¥åŸå› åˆ†æ

### æ ¹æœ¬åŸå› : æ•°æ®ä¸è¶³
æˆ‘ä»¬**æ²¡æœ‰çœŸå®çš„carryæ•°æ®**ï¼Œåªæœ‰ETFä»·æ ¼ï¼š

1. **å€ºåˆ¸carry (TLT)**
   - çœŸå®carry = yield - duration Ã— expected yield change
   - éœ€è¦: 10å¹´æœŸå›½å€ºæ”¶ç›Šç‡æ›²çº¿ + TLTçš„duration
   - æˆ‘ä»¬ç”¨çš„: 21å¤©æ»šåŠ¨æ”¶ç›Šç‡ (å®Œå…¨ä¸æ˜¯carry!)

2. **å•†å“carry (DBC)**
   - çœŸå®carry = front month price - back month price (roll yield)
   - éœ€è¦: æœŸè´§æ›²çº¿æ•°æ® (æ¯å¤©çš„near/deferredåˆçº¦ä»·æ ¼)
   - æˆ‘ä»¬ç”¨çš„: è´ŸåŠ¨é‡ (ä¸çœŸå®roll yieldæ— å…³)

3. **è‚¡ç¥¨carry (SPY/VNQ)**
   - çœŸå®carry = dividend yield
   - éœ€è¦: åˆ†çº¢æ•°æ®
   - æˆ‘ä»¬ç”¨çš„: 252å¤©å¹´åŒ–æ”¶ç›Šç‡ (åŒ…å«äº†price return, ä¸æ˜¯carry)

### ä»£ç†å˜é‡çš„é—®é¢˜

æˆ‘ä»¬ç”¨çš„"carryä»£ç†"å®é™…ä¸Šæ˜¯:
- å€ºåˆ¸: çŸ­æœŸåŠ¨é‡
- å•†å“: è´ŸåŠ¨é‡
- è‚¡ç¥¨: é•¿æœŸåŠ¨é‡

**è¿™äº›éƒ½ä¸æ˜¯carryï¼** è¿™è§£é‡Šäº†ä¸ºä»€ä¹ˆ:
- ICä¸ºè´Ÿ (ä»£ç†å˜é‡ä¸çœŸå®carryå¯èƒ½åå‘)
- ç›¸å…³æ€§æå¼± (ä»£ç†å˜é‡å™ªéŸ³å¤ªå¤§)
- ç­–ç•¥è¡¨ç°å·® (åŸºäºé”™è¯¯ä¿¡å·)

---

## ğŸ’¡ ä¿®æ­£æ–¹æ¡ˆ

### é€‰é¡¹1: è·å–çœŸå®carryæ•°æ® (æ¨è)

**éœ€è¦çš„æ•°æ®**:
```python
# å€ºåˆ¸
tlt_yield = fred.get_series('DGS10')  # 10å¹´æœŸå›½å€ºæ”¶ç›Šç‡
tlt_duration = 17  # TLTçš„ä¿®æ­£ä¹…æœŸ

# å•†å“
dbc_futures_curve = get_futures_curve('DBC')  # æœŸè´§æ›²çº¿
roll_yield = (front_month - next_month) / front_month

# è‚¡ç¥¨
spy_dividend_yield = get_dividend_yield('SPY')
```

**æ•°æ®æ¥æº**:
- FRED API (St. Louis Fed) - å›½å€ºæ”¶ç›Šç‡
- Quandl/Tiingo - æœŸè´§æ›²çº¿
- Yahoo Finance/AlphaVantage - è‚¡æ¯ç‡

### é€‰é¡¹2: æ”¾å¼ƒcarryä¿¡å·

**å¦‚æœæ— æ³•è·å–çœŸå®æ•°æ®ï¼Œå»ºè®®**:
- âŒ ä¸è¦ä½¿ç”¨carryä¿¡å·
- âœ“ ä¸“æ³¨äºmomentumä¿¡å· (æ•°æ®å……è¶³)
- âœ“ æ·»åŠ volatility/valueä¿¡å· (å¯ä»¥ä»ä»·æ ¼æ•°æ®è®¡ç®—)

### é€‰é¡¹3: ä»…å¯¹å¯è®¡ç®—çš„èµ„äº§ä½¿ç”¨carry

**éƒ¨åˆ†å¯è¡Œ**:
- âœ“ å€ºåˆ¸: ç”¨10å¹´æœŸæ”¶ç›Šç‡ (FREDå…è´¹)
- âŒ å•†å“: æœŸè´§æ•°æ®æ˜‚è´µ/å¤æ‚
- âœ“ è‚¡ç¥¨: ç”¨dividend yield (Yahoo Financeæœ‰)

å¯ä»¥å®ç°ä¸€ä¸ª"éƒ¨åˆ†carry"ç­–ç•¥:
- TLT: çœŸå®yield carry
- SPY/VNQ: çœŸå®dividend yield
- DBC/GLD: ä¸ä½¿ç”¨carry (æˆ–ç”¨å…¶ä»–ä¿¡å·)

---

## ğŸ¯ å¯¹åŸå§‹ç­–ç•¥çš„å½±å“

### åŸè®¡åˆ’
```
ä¿¡å·: 6M momentum + carry + volatility targeting
```

### ä¿®æ­£åå»ºè®®
```
ä¿¡å·: 6M momentum + volatility targeting
(æ”¾å¼ƒcarryï¼Œæˆ–ä»…éƒ¨åˆ†ä½¿ç”¨)
```

**ç†ç”±**:
1. Carryä¿¡å·å½“å‰ä¸å¯ç”¨ï¼ˆæ•°æ®ä¸è¶³ï¼‰
2. Momentumä¿¡å·å¯ä»¥å•ç‹¬ä½¿ç”¨ï¼ˆå·²æœ‰ä»·æ ¼æ•°æ®ï¼‰
3. å¯ä»¥ç¨åæ·»åŠ å…¶ä»–ä¿¡å·ï¼ˆvalue, qualityï¼‰è¡¥å……

---

## ğŸ“ å®éªŒæ—¥å¿—

**Walk-Forward**: N/A (ä¿¡å·éªŒè¯é˜¶æ®µï¼Œå…¨æ ·æœ¬æµ‹è¯•)
- Data: 2006-02-03 to 2025-12-26 (5005 days)

**Cost Scenario**: N/A (ä¿¡å·éªŒè¯ä¸æ¶‰åŠäº¤æ˜“æˆæœ¬)

**Statistical Tests**:
- Pearson correlation (carry vs future returns)
- Spearman rank correlation (Information Coefficient)
- Two-tailed significance test (Î±=0.05)

**Files Generated**:
- `outputs/experiments/exp_03_carry_validation_20241230_032449.json`
- `src/diagnostics/experiment_03_carry.py`

---

## âœ… å®éªŒä»·å€¼

è™½ç„¶å®éªŒå¤±è´¥ï¼Œä½†**è¿™æ­£æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœ**ï¼š

1. âœ“ **é¿å…äº†é”™è¯¯ä¿¡å·**: å¦‚æœæ²¡æœ‰è¿™ä¸ªå®éªŒï¼Œæˆ‘ä»¬ä¼šåœ¨ç­–ç•¥ä¸­ä½¿ç”¨æ— æ•ˆçš„carryä¿¡å·ï¼Œæµªè´¹æ—¶é—´
2. âœ“ **å‘ç°äº†æ•°æ®ç¼ºå£**: æ˜ç¡®çŸ¥é“éœ€è¦å“ªäº›é¢å¤–æ•°æ®æ‰èƒ½ä½¿ç”¨carry
3. âœ“ **éµå¾ªäº†ç ”ç©¶åè®®**: åœ¨å®éªŒå‰å®šä¹‰å¤±è´¥æ ‡å‡†ï¼Œå®éªŒåè¯šå®æŠ¥å‘Šç»“æœ
4. âœ“ **èŠ‚çœäº†æ—¶é—´**: ç”¨1æ¬¡å®éªŒï¼ˆ<5åˆ†é’Ÿï¼‰è¯æ˜carryä¸å¯è¡Œï¼Œé¿å…äº†æ•°å‘¨çš„æ— æ•ˆå¼€å‘

**è¿™å°±æ˜¯"çº¢é˜Ÿæ€ç»´"çš„ä»·å€¼** - ä¸»åŠ¨å¯»æ‰¾ç­–ç•¥çš„å¤±è´¥ç‚¹ï¼Œè€Œä¸æ˜¯ç›²ç›®ä¹è§‚ã€‚

---

## ğŸš€ ä¸‹ä¸€æ­¥

### ç«‹å³è¡ŒåŠ¨

**é€‰æ‹©A: è·å–çœŸå®carryæ•°æ®** (å¦‚æœæƒ³ä¿ç•™carryä¿¡å·)
```bash
# å®‰è£…FRED API
pip install fredapi

# åœ¨src/signals/carry.pyä¸­å®ç°çœŸå®carryè®¡ç®—
# é‡æ–°è¿è¡ŒExperiment 3éªŒè¯
```

**é€‰æ‹©B: æ”¾å¼ƒcarryï¼Œç»§ç»­å…¶ä»–å®éªŒ** (æ¨è)
```bash
# æ¥å—carryä¸å¯ç”¨çš„ç°å®
# ä¸“æ³¨äºmomentumä¿¡å· (å·²æœ‰æ•°æ®)
# ç»§ç»­Experiment 5 (äº¤æ˜“æˆæœ¬åˆ†æ)
```

### åç»­å®éªŒä¼˜å…ˆçº§

1. âœ… Experiment 3: Carry - **å·²å®Œæˆ (å¤±è´¥)**
2. ğŸ¯ Experiment 5: Transaction costs - **ä¸‹ä¸€ä¸ª**
3. ğŸ¯ Experiment 4: Momentum crash risk
4. ğŸ¯ Experiment 2: Volatility forecasting
5. ğŸ¯ Experiment 1: Covariance estimation

---

**æ•™è®­**: "å¿«é€Ÿå¤±è´¥" (fail fast) æ˜¯é‡åŒ–ç ”ç©¶çš„æ ¸å¿ƒåŸåˆ™ã€‚æˆ‘ä»¬ç”¨5åˆ†é’Ÿè¯æ˜äº†carryä¿¡å·ä¸å¯è¡Œï¼Œé¿å…äº†æ•°å‘¨çš„æ— æ•ˆå·¥ä½œã€‚è¿™æ˜¯æˆåŠŸçš„å®éªŒã€‚
