{
  "experiment_id": "07",
  "experiment_name": "Parameter Stability Walk-Forward",
  "timestamp": "2026-02-08T05:59:36.670218",
  "config": {
    "spans": [
      42,
      63,
      84,
      126,
      168,
      189,
      252,
      378
    ],
    "train_years": 5,
    "val_years": 2,
    "step_years": 1,
    "transaction_cost": 0.0005
  },
  "failure_criteria": {
    "max_optimal_ratio": 2.0,
    "min_top3_pct": 0.5,
    "max_sharpe_variance": 0.5,
    "min_any_window_sharpe": 0.0
  },
  "n_windows": 12,
  "windows": [
    {
      "window_id": 1,
      "train_start": "2006-02-03T00:00:00",
      "train_end": "2011-02-03T00:00:00",
      "val_start": "2011-02-03T00:00:00",
      "val_end": "2013-02-03T00:00:00",
      "train_sharpes": {
        "42": 0.7063687680046472,
        "63": 0.6927770935642363,
        "84": 0.5974148277844661,
        "126": 0.609535637237506,
        "168": 0.6318290106461769,
        "189": 0.6327160699204828,
        "252": 0.23480690527427478,
        "378": -0.2983081026761753
      },
      "best_span_train": 42,
      "best_sharpe_train": 0.7063687680046472,
      "rank_126_train": 5,
      "val_sharpes": {
        "42": -0.4229809330420186,
        "63": -0.34242086947874034,
        "84": -0.11766648428278476,
        "126": -0.027698583970057044,
        "168": 0.24223687094219798,
        "189": 0.6113607103322405,
        "252": 0.9550276558048209,
        "378": 0.9036806354003835
      },
      "val_best_span": {
        "sharpe": -0.4229809330420186,
        "annual_return": -0.05618338018631741,
        "max_drawdown": -0.24701117589867816
      },
      "val_126": {
        "sharpe": -0.027698583970057044,
        "annual_return": -0.003292687976111708,
        "max_drawdown": -0.16220340609129974
      }
    },
    {
      "window_id": 2,
      "train_start": "2007-02-03T00:00:00",
      "train_end": "2012-02-03T00:00:00",
      "val_start": "2012-02-03T00:00:00",
      "val_end": "2014-02-03T00:00:00",
      "train_sharpes": {
        "42": -0.06842205574615752,
        "63": 0.013692148045251902,
        "84": -0.15217092529121198,
        "126": 0.049784433791274986,
        "168": 0.17726755507300773,
        "189": 0.1793022043864863,
        "252": -0.10296008801510903,
        "378": -0.16887945953067537
      },
      "best_span_train": 189,
      "best_sharpe_train": 0.1793022043864863,
      "rank_126_train": 3,
      "val_sharpes": {
        "42": 0.8282611464244994,
        "63": 0.7835783158316773,
        "84": 0.726964306150304,
        "126": 0.9032671472606775,
        "168": 0.7792270710845203,
        "189": 0.7792270710845203,
        "252": 0.6429885937600915,
        "378": 0.5600107743509545
      },
      "val_best_span": {
        "sharpe": 0.7792270710845203,
        "annual_return": 0.0808369973882821,
        "max_drawdown": -0.08946391714168915
      },
      "val_126": {
        "sharpe": 0.9032671472606775,
        "annual_return": 0.09551168624408857,
        "max_drawdown": -0.07679034649667311
      }
    },
    {
      "window_id": 3,
      "train_start": "2008-02-03T00:00:00",
      "train_end": "2013-02-03T00:00:00",
      "val_start": "2013-02-03T00:00:00",
      "val_end": "2015-02-03T00:00:00",
      "train_sharpes": {
        "42": -0.10163028322486993,
        "63": -0.1041467063369204,
        "84": -0.257589927380905,
        "126": -0.17285014270186674,
        "168": -0.11443409039546548,
        "189": -0.11443409039546548,
        "252": -0.34722429795073334,
        "378": -0.14414605323804242
      },
      "best_span_train": 42,
      "best_sharpe_train": -0.10163028322486993,
      "rank_126_train": 6,
      "val_sharpes": {
        "42": 0.3970230612244918,
        "63": 0.749521326978128,
        "84": 0.28248628502909,
        "126": 0.13821792761250026,
        "168": -0.1172539078549698,
        "189": -0.1172539078549698,
        "252": -0.1913228162592024,
        "378": -0.1913228162592024
      },
      "val_best_span": {
        "sharpe": 0.3970230612244918,
        "annual_return": 0.054741354789709984,
        "max_drawdown": -0.1583497160555927
      },
      "val_126": {
        "sharpe": 0.13821792761250026,
        "annual_return": 0.01794287391631788,
        "max_drawdown": -0.19566382836838986
      }
    },
    {
      "window_id": 4,
      "train_start": "2009-02-03T00:00:00",
      "train_end": "2014-02-03T00:00:00",
      "val_start": "2014-02-03T00:00:00",
      "val_end": "2016-02-03T00:00:00",
      "train_sharpes": {
        "42": -0.024024682423543765,
        "63": -0.03803800941912545,
        "84": -0.13928913722184222,
        "126": -0.14254249336684646,
        "168": -0.015025835182296455,
        "189": -0.05559459229909061,
        "252": -0.2058029814115863,
        "378": -0.4576218088123299
      },
      "best_span_train": 168,
      "best_sharpe_train": -0.015025835182296455,
      "rank_126_train": 6,
      "val_sharpes": {
        "42": 0.40799408899246725,
        "63": 0.7031118548687059,
        "84": 0.39744287362234554,
        "126": 0.3370830951748457,
        "168": 0.3877832646321169,
        "189": 0.33642595267758973,
        "252": 0.31498063671651527,
        "378": 0.2650177854180074
      },
      "val_best_span": {
        "sharpe": 0.3877832646321169,
        "annual_return": 0.04871509659336737,
        "max_drawdown": -0.15478224020330436
      },
      "val_126": {
        "sharpe": 0.3370830951748457,
        "annual_return": 0.039456534506424834,
        "max_drawdown": -0.15478224020330436
      }
    },
    {
      "window_id": 5,
      "train_start": "2010-02-03T00:00:00",
      "train_end": "2015-02-03T00:00:00",
      "val_start": "2015-02-03T00:00:00",
      "val_end": "2017-02-03T00:00:00",
      "train_sharpes": {
        "42": -0.049491180076092885,
        "63": 0.07504854005314951,
        "84": -0.20028648010834418,
        "126": -0.22385044943203075,
        "168": -0.12412933448965113,
        "189": -0.1604308749453714,
        "252": -0.3244006867779458,
        "378": -0.24782117402094817
      },
      "best_span_train": 63,
      "best_sharpe_train": 0.07504854005314951,
      "rank_126_train": 6,
      "val_sharpes": {
        "42": 1.7535108421033485,
        "63": 1.682155132758961,
        "84": 2.0438862950847154,
        "126": 1.9310684769500532,
        "168": 1.8514759192405397,
        "189": 1.900068834421717,
        "252": 1.8361006307327994,
        "378": 1.887460044992342
      },
      "val_best_span": {
        "sharpe": 1.682155132758961,
        "annual_return": 0.18504252055203252,
        "max_drawdown": -0.09166286146966492
      },
      "val_126": {
        "sharpe": 1.9310684769500532,
        "annual_return": 0.1999027384304315,
        "max_drawdown": -0.07181517934712268
      }
    },
    {
      "window_id": 6,
      "train_start": "2011-02-03T00:00:00",
      "train_end": "2016-02-03T00:00:00",
      "val_start": "2016-02-03T00:00:00",
      "val_end": "2018-02-03T00:00:00",
      "train_sharpes": {
        "42": 0.05777306845842832,
        "63": 0.19758534005946618,
        "84": 0.14594028305700885,
        "126": 0.17539382623995226,
        "168": 0.21864548579932147,
        "189": 0.3193759953538938,
        "252": 0.3807859018423284,
        "378": 0.4760746168220835
      },
      "best_span_train": 378,
      "best_sharpe_train": 0.4760746168220835,
      "rank_126_train": 6,
      "val_sharpes": {
        "42": 1.525069967362266,
        "63": 1.662886815576108,
        "84": 1.702126459077288,
        "126": 1.5046648864368928,
        "168": 1.5928043580969256,
        "189": 1.7834438150154004,
        "252": 1.8672572686737625,
        "378": 1.6439031340870696
      },
      "val_best_span": {
        "sharpe": 1.6439031340870696,
        "annual_return": 0.16644745857139198,
        "max_drawdown": -0.07703994674464253
      },
      "val_126": {
        "sharpe": 1.5046648864368928,
        "annual_return": 0.16454149101005133,
        "max_drawdown": -0.07234843459893431
      }
    },
    {
      "window_id": 7,
      "train_start": "2012-02-03T00:00:00",
      "train_end": "2017-02-03T00:00:00",
      "val_start": "2017-02-03T00:00:00",
      "val_end": "2019-02-03T00:00:00",
      "train_sharpes": {
        "42": 0.886058457250459,
        "63": 0.9658644273508736,
        "84": 0.858791578112183,
        "126": 0.9211948993780562,
        "168": 0.7813524240933315,
        "189": 0.7641514607305365,
        "252": 0.6656970513879918,
        "378": 0.8687377625409236
      },
      "best_span_train": 63,
      "best_sharpe_train": 0.9658644273508736,
      "rank_126_train": 2,
      "val_sharpes": {
        "42": 0.7407707017912669,
        "63": 0.964818328129896,
        "84": 1.0025524893639355,
        "126": 1.0989370679804924,
        "168": 1.0583987708091516,
        "189": 1.0911468338654173,
        "252": 1.1586096890267172,
        "378": 1.0036588144549088
      },
      "val_best_span": {
        "sharpe": 0.964818328129896,
        "annual_return": 0.10405997102267994,
        "max_drawdown": -0.06837487332583658
      },
      "val_126": {
        "sharpe": 1.0989370679804924,
        "annual_return": 0.11672909517432695,
        "max_drawdown": -0.06349012573003197
      }
    },
    {
      "window_id": 8,
      "train_start": "2013-02-03T00:00:00",
      "train_end": "2018-02-03T00:00:00",
      "val_start": "2018-02-03T00:00:00",
      "val_end": "2020-02-03T00:00:00",
      "train_sharpes": {
        "42": 0.8545081265265022,
        "63": 1.0546973121358387,
        "84": 0.9257120262106998,
        "126": 0.8399979619079359,
        "168": 0.7270794449970491,
        "189": 0.7612505275126334,
        "252": 0.7374453269563314,
        "378": 0.7701068748880137
      },
      "best_span_train": 63,
      "best_sharpe_train": 1.0546973121358387,
      "rank_126_train": 4,
      "val_sharpes": {
        "42": 0.2578702117960068,
        "63": 0.3010711850042107,
        "84": 0.3748170624364672,
        "126": 0.7936025898594066,
        "168": 1.2622215841341875,
        "189": 1.2622215841341875,
        "252": 1.3309965223191949,
        "378": 1.6237500293283047
      },
      "val_best_span": {
        "sharpe": 0.3010711850042107,
        "annual_return": 0.03232983106389287,
        "max_drawdown": -0.13984528798381474
      },
      "val_126": {
        "sharpe": 0.7936025898594066,
        "annual_return": 0.08325973195297931,
        "max_drawdown": -0.13895836955154584
      }
    },
    {
      "window_id": 9,
      "train_start": "2014-02-03T00:00:00",
      "train_end": "2019-02-03T00:00:00",
      "val_start": "2019-02-03T00:00:00",
      "val_end": "2021-02-03T00:00:00",
      "train_sharpes": {
        "42": 0.9031807291383827,
        "63": 1.1049311137682956,
        "84": 1.00413374443102,
        "126": 0.9970520081232696,
        "168": 1.0008568818080148,
        "189": 0.9903053351654153,
        "252": 0.9919475392998219,
        "378": 0.919926486017628
      },
      "best_span_train": 63,
      "best_sharpe_train": 1.1049311137682956,
      "rank_126_train": 4,
      "val_sharpes": {
        "42": -0.6173420250242307,
        "63": -0.618113362781442,
        "84": -0.6676459764222422,
        "126": -0.5616002528570336,
        "168": -0.14092981844751817,
        "189": -0.14092981844751817,
        "252": -0.1930834331182966,
        "378": -0.1556293933059725
      },
      "val_best_span": {
        "sharpe": -0.618113362781442,
        "annual_return": -0.07207013988370137,
        "max_drawdown": -0.25161932171940343
      },
      "val_126": {
        "sharpe": -0.5616002528570336,
        "annual_return": -0.06586493629219503,
        "max_drawdown": -0.24870224618372622
      }
    },
    {
      "window_id": 10,
      "train_start": "2015-02-03T00:00:00",
      "train_end": "2020-02-03T00:00:00",
      "val_start": "2020-02-03T00:00:00",
      "val_end": "2022-02-03T00:00:00",
      "train_sharpes": {
        "42": 0.8070215970233531,
        "63": 0.9059059303939916,
        "84": 1.019987135892051,
        "126": 1.1482122241712565,
        "168": 1.3398800450749446,
        "189": 1.423681639328668,
        "252": 1.4175797329870858,
        "378": 1.5055264690511942
      },
      "best_span_train": 378,
      "best_sharpe_train": 1.5055264690511942,
      "rank_126_train": 5,
      "val_sharpes": {
        "42": -0.5151540759026715,
        "63": -0.29199661910406594,
        "84": -0.5659840445573197,
        "126": -0.5163895267185719,
        "168": -0.6463390802220225,
        "189": -0.6286265011753264,
        "252": -0.5562440753572955,
        "378": -0.5560095467225139
      },
      "val_best_span": {
        "sharpe": -0.5560095467225139,
        "annual_return": -0.06198093761651269,
        "max_drawdown": -0.18593216227471812
      },
      "val_126": {
        "sharpe": -0.5163895267185719,
        "annual_return": -0.057723813564414916,
        "max_drawdown": -0.1766901391577695
      }
    },
    {
      "window_id": 11,
      "train_start": "2016-02-03T00:00:00",
      "train_end": "2021-02-03T00:00:00",
      "val_start": "2021-02-03T00:00:00",
      "val_end": "2023-02-03T00:00:00",
      "train_sharpes": {
        "42": 0.32443253449596204,
        "63": 0.4631793260034318,
        "84": 0.4368911913537415,
        "126": 0.5601380671708468,
        "168": 0.8127242069530564,
        "189": 0.93703635091161,
        "252": 0.9304672593498632,
        "378": 1.0399445976717632
      },
      "best_span_train": 378,
      "best_sharpe_train": 1.0399445976717632,
      "rank_126_train": 5,
      "val_sharpes": {
        "42": 0.29748799412812466,
        "63": 0.35747107106014897,
        "84": 0.29649374671626116,
        "126": -0.1481129290374769,
        "168": -0.13257973020059544,
        "189": -0.06423092052732418,
        "252": -0.06423092052732418,
        "378": -0.0945939189205092
      },
      "val_best_span": {
        "sharpe": -0.0945939189205092,
        "annual_return": -0.010593916624704436,
        "max_drawdown": -0.20055560568895325
      },
      "val_126": {
        "sharpe": -0.1481129290374769,
        "annual_return": -0.016228247616943636,
        "max_drawdown": -0.20618542513269392
      }
    },
    {
      "window_id": 12,
      "train_start": "2017-02-03T00:00:00",
      "train_end": "2022-02-03T00:00:00",
      "val_start": "2022-02-03T00:00:00",
      "val_end": "2024-02-03T00:00:00",
      "train_sharpes": {
        "42": -0.18547802676768418,
        "63": -0.0007922888231010123,
        "84": -0.09490833036938263,
        "126": 0.0596017270669206,
        "168": 0.19945904352357058,
        "189": 0.31121540421823796,
        "252": 0.3057440912707296,
        "378": 0.5002799696905529
      },
      "best_span_train": 378,
      "best_sharpe_train": 0.5002799696905529,
      "rank_126_train": 5,
      "val_sharpes": {
        "42": 0.732244304018515,
        "63": 0.5830547019465754,
        "84": 1.0941059259260688,
        "126": 1.1032408056866758,
        "168": 0.6681455064627947,
        "189": 0.5614087548977401,
        "252": 0.03449253181243796,
        "378": 0.4219453812598153
      },
      "val_best_span": {
        "sharpe": 0.4219453812598153,
        "annual_return": 0.04550785049169215,
        "max_drawdown": -0.19746837408140908
      },
      "val_126": {
        "sharpe": 1.1032408056866758,
        "annual_return": 0.12071352328009288,
        "max_drawdown": -0.10978993833474937
      }
    }
  ],
  "stability_metrics": {
    "n_windows": 12,
    "optimal_spans": [
      42,
      189,
      42,
      168,
      63,
      378,
      63,
      63,
      63,
      378,
      378,
      378
    ],
    "optimal_span_min": 42,
    "optimal_span_max": 378,
    "optimal_span_ratio": 9.0,
    "optimal_span_mode": 63,
    "rank_126_top3_pct": 0.16666666666666666,
    "val_sharpe_126_mean": 0.5463567253648671,
    "val_sharpe_126_std": 0.7647962821767699,
    "val_sharpe_126_var": 0.5849133532314094,
    "val_sharpe_126_min": -0.5616002528570336,
    "train_val_consistency": 0.3333333333333333
  },
  "failure_check": {
    "passed": false,
    "failures": [
      "Optimal span ratio = 9.00x > 2.0x (range: 42-378)",
      "126d in top-3: 16.7% < 50.0%",
      "Sharpe variance = 0.585 > 0.5",
      "Min window Sharpe = -0.562 < 0.0"
    ],
    "metrics": {
      "optimal_span_ratio": 9.0,
      "top3_pct": 0.16666666666666666,
      "sharpe_variance": 0.5849133532314094,
      "min_window_sharpe": -0.5616002528570336
    }
  }
}